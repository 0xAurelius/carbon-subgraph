specVersion: 0.0.2
description: Polygon Bridged Carbon
repository: https://github.com/cujowolf/carbon-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ToucanFactory
    network: matic
    source:
      address: '0x2359677E513Bc83106268514c5B2De3C29C849ea'
      abi: ToucanCarbonOffsetsFactory
      startBlock: 20100000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/ToucanFactory.ts
      entities:
        - ToucanCarbonOffsetsFactory
      abis:
        - name: ToucanCarbonOffsetsFactory
          file: ./abis/ToucanCarbonOffsetsFactory.json
      eventHandlers:
        - event: TokenCreated(uint256,address)
          handler: handleNewTCO2
  - kind: ethereum/contract
    name: BaseCarbonTonne
    network: matic
    source:
      address: '0x2F800Db0fdb5223b3C3f354886d907A671414A7F'
      abi: BaseCarbonTonne
      startBlock: 20100000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/BaseCarbonTonne.ts
      entities:
        - BaseCarbonTonne
      abis:
        - name: BaseCarbonTonne
          file: ./abis/BaseCarbonTonne.json
      eventHandlers:
        - event: Deposited(address,uint256)
          handler: handleDeposit
        - event: Redeemed(address,address,uint256)
          handler: handleRedeem
  - kind: ethereum/contract
    name: NCT
    network: matic
    source:
      address: '0xD838290e877E0188a4A44700463419ED96c16107'
      abi: NCT
      startBlock: 24705011
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/NCT.ts
      entities:
        - NCT
      abis:
        - name: NCT
          file: ./abis/BaseCarbonTonne.json
      eventHandlers:
        - event: Deposited(address,uint256)
          handler: handleDeposit
        - event: Redeemed(address,address,uint256)
          handler: handleRedeem
  - kind: ethereum/contract
    name: MossCarbon
    network: matic
    source:
      address: '0xaa7dbd1598251f856c12f63557a4c4397c253cea'
      abi: ERC20
      startBlock: 23193932
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/MossCarbon.ts
      entities:
        - MossCarbon
      abis:
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: C3ProjectTokenFactory
    network: matic
    source:
      address: '0xa4c951B30952f5E2feFC8a92F4d3c7551925A63B'
      abi: C3ProjectTokenFactory
      startBlock: 25427000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/mappings/C3ProjectTokenFactory.ts
      entities:
        - C3ProjectTokenFactory
      abis:
        - name: C3ProjectTokenFactory
          file: ./abis/C3ProjectTokenFactory.json
        - name: C3ProjectToken
          file: ./abis/C3ProjectToken.json
      eventHandlers:
        - event: NewTokenProject(string,address)
          handler: handleNewC3T
  - kind: ethereum/contract
    name: UBO
    network: matic
    source:
      address: '0x2B3eCb0991AF0498ECE9135bcD04013d7993110c'
      abi: UBO
      startBlock: 25429000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/UBO.ts
      entities:
        - UBO
      abis:
        - name: UBO
          file: ./abis/UBO.json
      eventHandlers:
        - event: Deposited(address,uint256)
          handler: handleDeposit
        - event: Redeemed(address,address,uint256)
          handler: handleRedeem
  - kind: ethereum/contract
    name: NBO
    network: matic
    source:
      address: '0x6BCa3B77C1909Ce1a4Ba1A20d1103bDe8d222E48'
      abi: NBO
      startBlock: 25428000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/NBO.ts
      entities:
        - NBO
      abis:
        - name: NBO
          file: ./abis/NBO.json
      eventHandlers:
        - event: Deposited(address,uint256)
          handler: handleDeposit
        - event: Redeemed(address,address,uint256)
          handler: handleRedeem
templates:
  - name: ToucanCarbonOffsets
    kind: ethereum/contract
    network: matic
    source:
      abi: ToucanCarbonOffsets
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - ToucanCarbonOffsets
      abis:
        - name: ToucanCarbonOffsets
          file: ./abis/ToucanCarbonOffsets.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/ToucanCarbonOffsets.ts
  - name: C3ProjectToken
    kind: ethereum/contract
    network: matic
    source:
      abi: C3ProjectToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - C3ProjectToken
      abis:
        - name: C3ProjectToken
          file: ./abis/C3ProjectToken.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/C3ProjectToken.ts
